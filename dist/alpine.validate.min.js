(()=>{var D=function(p){let g="validate";function h(e){return allowedTypes=["text","password","date","datetime-local","email","tel","url","time","week","month","number"],e.nodeName==="INPUT"&&allowedTypes.includes(e.type)||e.nodeName==="TEXTAREA"}function E(e){return allowedTypes=["checkbox","radio"],e.nodeName==="INPUT"&&allowedTypes.includes(e.type)}function f(e){return String(e).trim()}function b(e){return f(e)===""}function T(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(f(e))}function I(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(f(e))}function k(e){return/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(f(e))}function z(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_\+.~#?&\/\/=]*)/.test(f(e))}function Z(e){let r=Number(e);return Number.isInteger(r)&&r>0}function q(e){return Number.isInteger(Number(e))}function m(e,r){let[n,d,a]=e.split(/[-\/.]/),u;if(r==="mm-dd-yyyy"&&/^(\d{1,2})[-\/.](\d{1,2})[-\/.](\d{4})$/.test(e))u=`${a}-${n}-${d}`;else if(r==="dd-mm-yyyy"&&/^(\d{1,2})[-\/.](\d{1,2})[-\/.](\d{4})$/.test(e))u=`${a}-${d}-${n}`;else if(r==="yyyy-mm-dd"&&/^(\d{4})[-\/.](\d{1,2})[-\/.](\d{1,2})$/.test(e))u=`${n}-${d}-${a}`;else return!1;let o=new Date(u),y=o.getTime();return typeof y!="number"||Number.isNaN(y)?!1:o.toISOString().startsWith(u)}let s=p.reactive({});function A(e,r){let n=e.closest("form").getAttribute("id");if(n)s[n]=s[n].map(d=>d.name===e.name?{name:e.name,value:e.value,valid:r}:d);else return!1}let t=e=>!b(e);t.email=e=>T(e),t.phone=e=>I(e),t.website=e=>k(e),t.url=e=>z(e),t.number=e=>Number(e),t.wholenumber=e=>Z(e),t.integer=e=>q(e),t.date=e=>m(e,"mm-dd-yyyy"),t["date-mm-dd-yyyy"]=e=>m(e,"mm-dd-yyyy"),t["date-dd-mm-yyyy"]=e=>m(e,"dd-mm-yyyy"),t["date-yyyy-mm-dd"]=e=>m(e,"yyyy-mm-dd"),t.formData=e=>s[e],t.isFormComplete=e=>s[e].map(n=>Object.getOwnPropertyNames(n).reduce((d,a)=>({...d,[a]:n[a]}),{})).every(n=>n.valid===!0),p.magic(g,()=>t),p.directive(g,(e,{modifiers:r,expression:n},{evaluate:d})=>{let a=n?d(n):{};function u(i){return r.includes(i)}let o=e.closest("form").getAttribute("id");if(o){s[o]=s[o]||[];let i=r.length>0||a.test||!1;s[o].push({name:e.name,value:e.value,valid:!i})}function y(){e.checked?N():e.checked||w("required")}function v(){let i=e.value;if(u("required")&&b(i))return w("required"),!1;if(!u("required")&&b(i))return N(),!1;let l=!1;r.every((c,L)=>{if(typeof t[c]=="function"){if(c.includes("date")&&!t[c](i))return l=`date required in ${c.length>4?c.slice(5):"mm-dd-yyyy"} format`,!1;if(!t[c](i))return l=`${c} required`,!1}return!0}),a.test!==void 0&&(a=n?d(n):{},a.test===!1&&(l=l||"validation failed")),l&&w(l),l||N()}function w(i){i=a.error||i,e.parentNode.setAttribute("data-error",i),e.setAttribute("data-valid",!1),u("refocus")&&e.focus(),h(e)&&addEventListener("input",v),A(e,!1)}function N(){e.parentNode.removeAttribute("data-error"),e.setAttribute("data-valid",!0),A(e,!0)}a.test===void 0&&r.length===0||(r.includes("checked")&&E(e)?(e.setAttribute("data-valid",!1),e.addEventListener("click",y)):(h(e)||e.nodeName==="SELECT")&&(e.setAttribute("data-valid",!1),e.addEventListener("blur",v),r.includes("input")&&e.addEventListener("input",v)))})},$=D;document.addEventListener("alpine:init",()=>{window.Alpine.plugin($)});})();
