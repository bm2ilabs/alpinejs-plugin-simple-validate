(()=>{var Q=function(E){let S="data-error",U=`${S}-msg`,D="error-msg",k="validate",N="required",M="input",T="checkbox",F="radio",R="group",L="form",G="fieldset",_=t=>`:not([type="${t}"])`,w=`${M}${_("search")}${_("reset")}${_("submit")},select,textarea`,q="hidden",g=(t,e)=>{let n=t instanceof HTMLElement;return e?n&&t.matches(e):n},m=(t,e)=>Array.isArray(t)&&t.includes(e),C=(t,e,n)=>t.addEventListener(e,n),z=(t,e)=>t.getAttribute(e),v=(t,e,n="")=>t.setAttribute(e,n),l=t=>g(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),h=t=>t&&t.closest(L),A=t=>z(t,"name")||z(t,"id"),x=t=>String(t).trim(),y=t=>{let e=l(t),n=p.get(h(e));if(!n)return!1;if(g(e,L))return Object.values(n);if(g(e,G))return Object.values(n).filter(o=>o.set===e);if(g(e,w))return n[A(e)]},I=["mmddyyyy","ddmmyyyy","yyyymmdd"],W=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,B=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function Z(t,e=I[2]){let n=t.split(/[-/.]/),o=I.indexOf(e),a,i,c;W.test(t)?(o===0&&([a,i,c]=n),o===1&&([i,a,c]=n)):B.test(t)&&o===2&&([c,a,i]=n);let d=`${c}-${a}-${i}`,r=new Date(d),s=r.getTime();return!typeof s==="number"||Number.isNaN(s)?!1:r.toISOString().startsWith(d)}let p=new WeakMap,H=new WeakMap;function $(t,e,n){let o=h(t),a=A(t);if(o&&a){p.has(o)||p.set(o,E.reactive({}));let i=p.get(o);e={...i[a],name:a,node:t,value:t.value,...e},e.required=e.required||m(e.mods,N)||m(e.mods,R)||t.hasAttribute(N);let c=e.value,d=t.checkValidity();if(m([T,F],t.type)){e.required&&(d=t.checked);let r=e.array||[];if(t.type===T&&(t.checked&&!r.includes(c)&&r.push(c),t.checked||(r=r.filter(s=>s!==c))),t.type===F&&t.checked&&(r=[c]),e.array=r,e.value=r.toString(),m(e.mods,R)){let s=e.exp||1;d=r.length>=s}}else if(e.required&&(d=!!c.trim()),d&&c){let r=e.mods.filter(s=>I.indexOf(s)!==-1)[0];for(let s of e.mods)if(typeof u[s]=="function"){d=s==="date"?Z(c,r):u[s](c);break}e.exp===!1&&(d=!1)}e.valid=d,i[a]=e,p.set(o,i)}return n&&O(t,e.valid),e}let u={};u.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x(t)),u.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(x(t)),u.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(x(t)),u.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(x(t)),u.number=t=>!isNaN(parseFloat(t))&&isFinite(t),u.integer=t=>u.number(t)&&Number.isInteger(Number(t)),u.wholenumber=t=>u.integer(t)&&Number(t)>0,u.date=t=>Z(t),I.forEach(t=>{u.date[t]=e=>Z(e,t)});let f={};f.data=t=>y(t),f.formData=t=>p.get(h(l(t))),f.value=t=>{let e=y(t);return Array.isArray(e)?e.reduce((n,o)=>(n[o.name]=o.value,n),{}):e&&e.value},f.updateData=(t,e,n)=>$(l(t),e,n),f.toggleError=(t,e)=>O(l(t),e),f.submit=t=>{let e=0;y(t.target).forEach(n=>{n.valid===!1&&(e++,e===1&&n.node.focus(),O(n.node,!1),t.preventDefault(),console.error(`${n.name} ${N}`))})},f.isComplete=t=>{let e=y(t);return Array.isArray(e)?!e.some(n=>!n.valid):e&&e.valid},Object.keys(u).forEach(t=>f={...f,[t]:u[t]}),E.magic(k,()=>f),E.magic("formData",t=>p.get(h(l(t)))),E.directive(N,(t,{value:e,expression:n},{evaluate:o})=>{n&&E.effect(()=>{var c;let a=o(n),i=e?((c=y(e))==null?void 0:c.value)===a:a;$(t,{required:i}),i||O(t,!0)})}),E.directive(k,(t,{modifiers:e,expression:n},{evaluate:o})=>{let a=h(t),i=r=>{let s=r.closest(".field-parent")||m(e,R)?r.parentNode.parentNode:r.parentNode;return{mods:[...e,r.type],set:r.closest(G),parentNode:s,exp:n&&o(n)}};function c(r){K(r);let s=m([T,F,"range"],r.type),b=s?"click":g(r,"select")?"change":"blur";C(r,b,d),m(e,M)&&!s&&C(r,M,d)}if(g(t,L)&&(H.set(a,e),t.querySelectorAll(w).forEach(s=>{A(s)&&($(s,i(s)),s.getAttributeNames().some(b=>b.includes(`x-${k}`))||c(s))})),A(t)&&g(t,w)){let r=H.has(a)?H.get(a):[];e=[...e,...r],$(t,i(t)),c(t)}function d(r){let s=this,b=y(s).mods,j=$(s,{exp:n&&o(n)},!0);return!j.valid&&!m(b,"bluronly")&&r.type==="blur"&&C(s,M,d),!j.valid&&m(b,"refocus")&&s.focus(),j.valid}});function O(t,e){let n=A(t),o=y(t).parentNode,a=l(`${D}-${n}`);v(t,"aria-invalid",!e),e?(v(a,q),o.removeAttribute(S)):(a.removeAttribute(q),v(o,S,a.textContent))}function V(t){for(;t;){if(t=t.nextElementSibling,g(t,`.${D}`))return t;if(g(t,w))return!1}return!1}function K(t){let e=A(t),n=`${D}-${e}`,o=y(t),a=m(o.mods,R)?o.parentNode:t,i=document.createElement("span");i.className=D;let c=l(n)||V(a)||i;v(c,"id",n),v(c,q),c.innerHTML||(c.textContent=z(a,U)||`${e.replace(/[-_]/g," ")} ${N}`),v(t,"aria-errormessage",n),l(n)||a.after(c)}},P=Q;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(P)});})();
