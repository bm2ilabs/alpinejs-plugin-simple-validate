(()=>{var tt=function(A){let _="data-error",K=`${_}-msg`,R="error-msg",C="validate",D="required",S="input",z="checkbox",Z="radio",x="group",O="form",H="fieldset",U=t=>`:not([type="${t}"])`,M=`${S}${U("search")}${U("reset")}${U("submit")},select,textarea`,j="hidden",g=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},y=(t,e)=>Array.isArray(t)&&t.includes(e),q=(t,e,r)=>t.addEventListener(e,r),w=(t,e)=>t.getAttribute(e),N=(t,e,r="")=>t.setAttribute(e,r),E=t=>g(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),$=t=>t&&t.closest(O),I=t=>w(t,"name")||w(t,"id"),W=t=>w(t,"id")||w(t,"name"),T=t=>String(t).trim(),p=t=>{let e=E(t),r=v.get($(e));if(!r)return!1;if(g(e,O))return Object.values(r);if(g(e,H))return Object.values(r).filter(o=>o.set===e);if(g(e,M))return r[I(e)]},k=["mmddyyyy","ddmmyyyy","yyyymmdd"],Q=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,X=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function G(t,e=k[2]){let r=t.split(/[-/.]/),o=k.indexOf(e),a,i,m;Q.test(t)?(o===0&&([a,i,m]=r),o===1&&([i,a,m]=r)):X.test(t)&&o===2&&([m,a,i]=r);let f=`${m}-${a}-${i}`,u=new Date(f),n=u.getTime();return!typeof n==="number"||Number.isNaN(n)?!1:u.toISOString().startsWith(f)}let v=new WeakMap,P=new WeakMap;function l(t,e,r){let o=$(t),a=I(t);if(o&&a){v.has(o)||v.set(o,A.reactive({}));let i=v.get(o);e={...i[a],name:a,node:t,value:t.value,...e};let m=e.set;e.required=e.required||y(e.mods,D)||y(e.mods,x)||t.hasAttribute(D);let f=t.hasAttribute("disabled")||(m==null?void 0:m.hasAttribute("disabled")),u=e.value,n=t.checkValidity();if(!f&&n){if(y([z,Z],t.type)){e.required&&(n=t.checked);let s=e.array||[];if(t.type===z&&(t.checked&&!s.includes(u)&&s.push(u),t.checked||(s=s.filter(c=>c!==u))),t.type===Z&&t.checked&&(s=[u]),e.array=s,e.value=s.toString(),y(e.mods,x)){let c=e.exp||1;n=s.length>=c}}else if(e.required&&(n=!!u.trim()),n&&u){let s=e.mods.filter(c=>k.indexOf(c)!==-1)[0];for(let c of e.mods)if(typeof d[c]=="function"){n=c==="date"?G(u,s):d[c](u);break}e.exp===!1&&(n=!1)}}e.valid=n,i[a]=e,v.set(o,i)}return r&&L(t,e.valid),e}function F(t,e,r){if((g(t,O)||g(t,H))&&p(t).forEach(a=>l(a.node)),g(t,M))return l(t,e,r)}let d={};d.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(T(t)),d.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(T(t)),d.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(T(t)),d.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(T(t)),d.number=t=>!isNaN(parseFloat(t))&&isFinite(t),d.integer=t=>d.number(t)&&Number.isInteger(Number(t)),d.wholenumber=t=>d.integer(t)&&Number(t)>0,d.date=t=>G(t),k.forEach(t=>{d.date[t]=e=>G(e,t)});let b={};b.data=t=>p(t),b.formData=t=>v.get($(E(t))),b.value=(t,e)=>{t=E(t);let r=p(t);return r?Array.isArray(r)?r.reduce((o,a)=>(o[a.name]=a.value,o),{}):(e&&(r.value=e,t.value=e,l(t)),r.value):!1},b.updateData=(t,e,r)=>F(E(t),e,r),b.toggleError=(t,e)=>L(E(t),e),b.submit=t=>{let e=0;p(t.target).forEach(r=>{r=F(r.node),r.valid===!1&&(e++,e===1&&r.node.focus(),L(r.node,!1),t.preventDefault(),console.error(`${r.name} ${D}`))})},b.isComplete=t=>{let e=p(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(d).forEach(t=>b={...b,[t]:d[t]}),A.magic(C,()=>b),A.magic("formData",t=>v.get($(E(t)))),A.directive(D,(t,{value:e,expression:r},{evaluate:o})=>{r&&(console.log("x-required is depreciated. Use :required"),A.effect(()=>{var m;let a=o(r),i=e?((m=p(e))==null?void 0:m.value)===a:a;l(t,{required:i}),i||L(t,!0)}))}),A.directive(C,(t,{modifiers:e,expression:r},{evaluate:o})=>{let a=$(t),i=n=>{let s=new MutationObserver(c=>{for(let h of c)h.type==="attributes"&&(h.attributeName==="disabled"&&F(n),h.attributeName==="required"&&F(n,{required:n.hasAttribute("required")}))});return s.observe(n,{attributes:!0}),s},m=n=>{let s=n.closest(".field-parent")||y(e,x)?n.parentNode.parentNode:n.parentNode,c=n.closest(H);return i(n),c&&i(c),{mods:[...e,n.type],set:c,parentNode:s,exp:r&&o(r)}};function f(n){Y(n);let s=y([z,Z,"range"],n.type),c=s?"click":g(n,"select")?"change":"blur";q(n,c,u),y(e,S)&&!s&&q(n,S,u)}if(g(t,O)){e.includes("use-browser")||t.setAttribute("novalidate",!0),e.includes("validate-on-submit")&&t.addEventListener("submit",function(s){b.submit(s)}),P.set(a,e);let n=t.querySelectorAll(M);q(t,"reset",()=>{t.reset();let s=p(t);setTimeout(()=>{s.forEach(c=>l(c.node))},50)}),n.forEach(s=>{I(s)&&(l(s,m(s)),s.getAttributeNames().some(c=>c.includes(`x-${C}`))||f(s))})}if(I(t)&&g(t,M)){let n=P.has(a)?P.get(a):[];e=[...e,...n],l(t,m(t)),f(t)}function u(n){let s=this,c=p(s).mods,h=l(s,{exp:r&&o(r)},!0);return!h.valid&&!y(c,"bluronly")&&n.type==="blur"&&q(s,S,u),!h.valid&&y(c,"refocus")&&s.focus(),h.valid}});function L(t,e){let r=p(t).parentNode,o=B(t);N(t,"aria-invalid",!e),e?(N(o,j),r.removeAttribute(_)):(o.removeAttribute(j),N(r,_,o.textContent))}function J(t){for(;t;){if(t=t.nextElementSibling,g(t,`.${R}`))return t;if(g(t,M))return!1}return!1}function B(t){let e=W(t);return $(t).querySelector(`#${R}-${e}`)}function Y(t){let e=W(t),r=`${R}-${e}`,o=p(t),a=y(o.mods,x)?o.parentNode:t,i=document.createElement("span");i.className=R;let f=B(t)||J(a)||i;N(f,"id",r),N(f,j);let u=I(t);f.innerHTML||(f.textContent=w(a,K)||`${u.replace(/[-_]/g," ")} ${D}`),N(t,"aria-errormessage",r),E(r)||a.after(f)}},V=tt;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(V)});})();
