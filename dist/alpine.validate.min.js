(()=>{var tt=function(N){let L="data-error",K=`${L}-msg`,R="error-msg",_="validate",w="required",S="input",C="checkbox",z="radio",I="group",O="form",Z="fieldset",H=t=>`:not([type="${t}"])`,x=`${S}${H("search")}${H("reset")}${H("submit")},select,textarea`,U="hidden",y=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},b=(t,e)=>Array.isArray(t)&&t.includes(e),q=(t,e,r)=>t.addEventListener(e,r),j=(t,e)=>t.getAttribute(e),$=(t,e,r="")=>t.setAttribute(e,r),v=t=>y(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),D=t=>t&&t.closest(O),M=t=>j(t,"name")||j(t,"id"),T=t=>String(t).trim(),p=t=>{let e=v(t),r=h.get(D(e));if(!r)return!1;if(y(e,O))return Object.values(r);if(y(e,Z))return Object.values(r).filter(o=>o.set===e);if(y(e,x))return r[M(e)]},k=["mmddyyyy","ddmmyyyy","yyyymmdd"],Q=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,X=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function G(t,e=k[2]){let r=t.split(/[-/.]/),o=k.indexOf(e),a,c,u;Q.test(t)?(o===0&&([a,c,u]=r),o===1&&([c,a,u]=r)):X.test(t)&&o===2&&([u,a,c]=r);let g=`${u}-${a}-${c}`,m=new Date(g),d=m.getTime();return!typeof d==="number"||Number.isNaN(d)?!1:m.toISOString().startsWith(g)}let h=new WeakMap,P=new WeakMap;function E(t,e,r){let o=D(t),a=M(t);if(o&&a){h.has(o)||h.set(o,N.reactive({}));let c=h.get(o);e={...c[a],name:a,node:t,value:t.value,...e};let u=e.set;e.required=e.required||b(e.mods,w)||b(e.mods,I)||t.hasAttribute(w);let g=t.hasAttribute("disabled")||(u==null?void 0:u.hasAttribute("disabled")),m=e.value,d=t.checkValidity();if(!g&&d){if(b([C,z],t.type)){e.required&&(d=t.checked);let n=e.array||[];if(t.type===C&&(t.checked&&!n.includes(m)&&n.push(m),t.checked||(n=n.filter(s=>s!==m))),t.type===z&&t.checked&&(n=[m]),e.array=n,e.value=n.toString(),b(e.mods,I)){let s=e.exp||1;d=n.length>=s}}else if(e.required&&(d=!!m.trim()),d&&m){let n=e.mods.filter(s=>k.indexOf(s)!==-1)[0];for(let s of e.mods)if(typeof i[s]=="function"){d=s==="date"?G(m,n):i[s](m);break}e.exp===!1&&(d=!1)}}e.valid=d,c[a]=e,h.set(o,c)}return r&&F(t,e.valid),e}function W(t,e,r){(y(t,O)||y(t,Z))&&p(t).forEach(a=>{E(a.node)}),y(t,x)&&E(t,e,r)}let i={};i.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(T(t)),i.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(T(t)),i.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(T(t)),i.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(T(t)),i.number=t=>!isNaN(parseFloat(t))&&isFinite(t),i.integer=t=>i.number(t)&&Number.isInteger(Number(t)),i.wholenumber=t=>i.integer(t)&&Number(t)>0,i.date=t=>G(t),k.forEach(t=>{i.date[t]=e=>G(e,t)});let l={};l.data=t=>p(t),l.formData=t=>h.get(D(v(t))),l.value=(t,e)=>{t=v(t);let r=p(t);return r?Array.isArray(r)?r.reduce((o,a)=>(o[a.name]=a.value,o),{}):(e&&(r.value=e,t.value=e,E(t)),r.value):!1},l.updateData=(t,e,r)=>W(v(t),e,r),l.toggleError=(t,e)=>F(v(t),e),l.submit=t=>{let e=0;p(t.target).forEach(r=>{r.valid===!1&&(e++,e===1&&r.node.focus(),F(r.node,!1),t.preventDefault(),console.error(`${r.name} ${w}`))})},l.isComplete=t=>{let e=p(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(i).forEach(t=>l={...l,[t]:i[t]}),N.magic(_,()=>l),N.magic("formData",t=>h.get(D(v(t)))),N.directive(w,(t,{value:e,expression:r},{evaluate:o})=>{r&&(console.log("x-required is depreciated. Use :required"),N.effect(()=>{var u;let a=o(r),c=e?((u=p(e))==null?void 0:u.value)===a:a;E(t,{required:c}),c||F(t,!0)}))}),N.directive(_,(t,{modifiers:e,expression:r},{Alpine:o,evaluate:a})=>{let c=D(t),u=n=>{let s=new MutationObserver(f=>{for(let A of f)A.type==="attributes"&&(A.attributeName==="disabled"&&o.nextTick(()=>{W(n)}),A.attributeName==="required"&&o.nextTick(()=>{W(n,{required:n.hasAttribute("required")})}))});return s.observe(n,{attributes:!0}),s},g=n=>{let s=n.closest(".field-parent")||b(e,I)?n.parentNode.parentNode:n.parentNode,f=n.closest(Z);return u(n),f&&u(f),{mods:[...e,n.type],set:f,parentNode:s,exp:r&&a(r)}};function m(n){Y(n);let s=b([C,z,"range"],n.type),f=s?"click":y(n,"select")?"change":"blur";q(n,f,d),b(e,S)&&!s&&q(n,S,d)}if(y(t,O)){e.includes("use-browser")||t.setAttribute("novalidate",!0),P.set(c,e);let n=t.querySelectorAll(x);q(t,"reset",()=>{t.reset();let s=p(t);setTimeout(()=>{s.forEach(f=>E(f.node))},50)}),n.forEach(s=>{M(s)&&(E(s,g(s)),s.getAttributeNames().some(f=>f.includes(`x-${_}`))||m(s))})}if(M(t)&&y(t,x)){let n=P.has(c)?P.get(c):[];e=[...e,...n],E(t,g(t)),m(t)}function d(n){let s=this,f=p(s).mods,A=E(s,{exp:r&&a(r)},!0);return!A.valid&&!b(f,"bluronly")&&n.type==="blur"&&q(s,S,d),!A.valid&&b(f,"refocus")&&s.focus(),A.valid}});function F(t,e){let r=p(t).parentNode,o=B(t);$(t,"aria-invalid",!e),e?($(o,U),r.removeAttribute(L)):(o.removeAttribute(U),$(r,L,o.textContent))}function J(t){for(;t;){if(t=t.nextElementSibling,y(t,`.${R}`))return t;if(y(t,x))return!1}return!1}function B(t){let e=M(t);return D(t).querySelector(`#${R}-${e}`)}function Y(t){let e=M(t),r=`${R}-${e}`,o=p(t),a=b(o.mods,I)?o.parentNode:t,c=document.createElement("span");c.className=R;let g=B(t)||J(a)||c;$(g,"id",r),$(g,U),g.innerHTML||(g.textContent=j(a,K)||`${e.replace(/[-_]/g," ")} ${w}`),$(t,"aria-errormessage",r),v(r)||a.after(g)}},V=tt;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(V)});})();
