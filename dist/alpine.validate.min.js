(()=>{var X=function(b){let T="data-error",W=`${T}-msg`,D="error-msg",k="validate",$="required",M="input",F="checkbox",L="radio",R="group",_="form",G="fieldset",q=t=>`:not([type="${t}"])`,S=`${M}${q("search")}${q("reset")}${q("submit")},select,textarea`,C="hidden",g=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},m=(t,e)=>Array.isArray(t)&&t.includes(e),I=(t,e,r)=>t.addEventListener(e,r),z=(t,e)=>t.getAttribute(e),A=(t,e,r="")=>t.setAttribute(e,r),l=t=>g(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),h=t=>t&&t.closest(_),N=t=>z(t,"name")||z(t,"id"),w=t=>String(t).trim(),y=t=>{let e=l(t),r=E.get(h(e));if(!r)return!1;if(g(e,_))return Object.values(r);if(g(e,G))return Object.values(r).filter(o=>o.set===e);if(g(e,S))return r[N(e)]},x=["mmddyyyy","ddmmyyyy","yyyymmdd"],B=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,V=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function Z(t,e=x[2]){let r=t.split(/[-/.]/),o=x.indexOf(e),c,u,i;B.test(t)?(o===0&&([c,u,i]=r),o===1&&([u,c,i]=r)):V.test(t)&&o===2&&([i,c,u]=r);let a=`${i}-${c}-${u}`,n=new Date(a),s=n.getTime();return!typeof s==="number"||Number.isNaN(s)?!1:n.toISOString().startsWith(a)}let E=new WeakMap,H=new WeakMap;function v(t,e,r){let o=h(t),c=N(t);if(o&&c){E.has(o)||E.set(o,b.reactive({}));let u=E.get(o);e={...u[c],name:c,node:t,value:t.value,...e},e.required=e.required||m(e.mods,$)||m(e.mods,R)||t.hasAttribute($);let i=e.value,a=t.checkValidity();if(a){if(m([F,L],t.type)){e.required&&(a=t.checked);let n=e.array||[];if(t.type===F&&(t.checked&&!n.includes(i)&&n.push(i),t.checked||(n=n.filter(s=>s!==i))),t.type===L&&t.checked&&(n=[i]),e.array=n,e.value=n.toString(),m(e.mods,R)){let s=e.exp||1;a=n.length>=s}}else if(e.required&&(a=!!i.trim()),a&&i){let n=e.mods.filter(s=>x.indexOf(s)!==-1)[0];for(let s of e.mods)if(typeof d[s]=="function"){a=s==="date"?Z(i,n):d[s](i);break}e.exp===!1&&(a=!1)}}e.valid=a,u[c]=e,E.set(o,u)}return r&&O(t,e.valid),e}let d={};d.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(w(t)),d.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(w(t)),d.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(w(t)),d.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(w(t)),d.number=t=>!isNaN(parseFloat(t))&&isFinite(t),d.integer=t=>d.number(t)&&Number.isInteger(Number(t)),d.wholenumber=t=>d.integer(t)&&Number(t)>0,d.date=t=>Z(t),x.forEach(t=>{d.date[t]=e=>Z(e,t)});let f={};f.data=t=>y(t),f.formData=t=>E.get(h(l(t))),f.value=(t,e)=>{t=l(t);let r=y(t);return r?Array.isArray(r)?r.reduce((o,c)=>(o[c.name]=c.value,o),{}):(e&&(r.value=e,t.value=e,v(t)),r.value):!1},f.updateData=(t,e,r)=>v(l(t),e,r),f.toggleError=(t,e)=>O(l(t),e),f.submit=t=>{let e=0;y(t.target).forEach(r=>{r.valid===!1&&(e++,e===1&&r.node.focus(),O(r.node,!1),t.preventDefault(),console.error(`${r.name} ${$}`))})},f.isComplete=t=>{let e=y(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(d).forEach(t=>f={...f,[t]:d[t]}),b.magic(k,()=>f),b.magic("formData",t=>E.get(h(l(t)))),b.directive($,(t,{value:e,expression:r},{evaluate:o})=>{r&&b.effect(()=>{var i;let c=o(r),u=e?((i=y(e))==null?void 0:i.value)===c:c;v(t,{required:u}),u||O(t,!0)})}),b.directive(k,(t,{modifiers:e,expression:r},{evaluate:o})=>{let c=h(t),u=n=>{let s=n.closest(".field-parent")||m(e,R)?n.parentNode.parentNode:n.parentNode;return{mods:[...e,n.type],set:n.closest(G),parentNode:s,exp:r&&o(r)}};function i(n){Q(n);let s=m([F,L,"range"],n.type),p=s?"click":g(n,"select")?"change":"blur";I(n,p,a),m(e,M)&&!s&&I(n,M,a)}if(g(t,_)){t.setAttribute("novalidate",!0),H.set(c,e);let n=t.querySelectorAll(S);I(t,"reset",()=>{t.reset();let s=y(t);setTimeout(()=>{s.forEach(p=>v(p.node))},50)}),n.forEach(s=>{N(s)&&(v(s,u(s)),s.getAttributeNames().some(p=>p.includes(`x-${k}`))||i(s))})}if(N(t)&&g(t,S)){let n=H.has(c)?H.get(c):[];e=[...e,...n],v(t,u(t)),i(t)}function a(n){let s=this,p=y(s).mods,j=v(s,{exp:r&&o(r)},!0);return!j.valid&&!m(p,"bluronly")&&n.type==="blur"&&I(s,M,a),!j.valid&&m(p,"refocus")&&s.focus(),j.valid}});function O(t,e){let r=y(t).parentNode,o=P(t);A(t,"aria-invalid",!e),e?(A(o,C),r.removeAttribute(T)):(o.removeAttribute(C),A(r,T,o.textContent))}function K(t){for(;t;){if(t=t.nextElementSibling,g(t,`.${D}`))return t;if(g(t,S))return!1}return!1}function P(t){let e=N(t);return h(t).querySelector(`#${D}-${e}`)}function Q(t){let e=N(t),r=`${D}-${e}`,o=y(t),c=m(o.mods,R)?o.parentNode:t,u=document.createElement("span");u.className=D;let a=P(t)||K(c)||u;A(a,"id",r),A(a,C),a.innerHTML||(a.textContent=z(c,W)||`${e.replace(/[-_]/g," ")} ${$}`),A(t,"aria-errormessage",r),l(r)||c.after(a)}},U=X;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(U)});})();
