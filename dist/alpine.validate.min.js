(()=>{var K=function(v){let I="data-error",P=`${I}-msg`,A="error-msg",O="validate",D="required",S="input",k="checkbox",F="radio",$="group",L="form",H="fieldset",M='input:not([type="button"]):not([type="search"]):not([type="reset"]):not([type="submit"]),select,textarea',T="hidden",f=(t,e)=>{let n=t instanceof HTMLElement;return e?n&&t.matches(e):n},d=(t,e)=>t.includes(e),_=(t,e,n)=>t.addEventListener(e,n),q=(t,e)=>t.getAttribute(e),y=(t,e,n="")=>t.setAttribute(e,n),E=t=>f(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),C=t=>t.closest(L),R=t=>q(t,"name")||q(t,"id"),w=t=>String(t).trim(),p=t=>{let e=E(t),n=h.get(C(e));if(!n)return!1;if(f(e,L))return Object.values(n);if(f(e,H))return Object.values(n).filter(a=>a.set===e);if(f(e,M))return n[R(e)]},b=["mmddyyyy","ddmmyyyy","yyyymmdd"],U=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,W=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function j(t,e){let n=t.split(/[-/.]/),a=b.indexOf(e),s,i,o;U.test(t)?(a===0&&([s,i,o]=n),a===1&&([i,s,o]=n)):W.test(t)&&a===2&&([o,s,i]=n);let m=`${o}-${s}-${i}`,r=new Date(m),c=r.getTime();return!typeof c==="number"||Number.isNaN(c)?!1:r.toISOString().startsWith(m)}let h=new WeakMap,z=new WeakMap;function N(t,e,n){let a=C(t),s=R(t);if(a&&s){h.has(a)||h.set(a,v.reactive({}));let i=h.get(a);e={...i[s],name:s,node:t,value:t.value,...e},e.required=e.required||d(e.mods,D)||d(e.mods,$)||t.hasAttribute(D);let o=e.value,m=t.checkValidity();if(d([k,F],t.type)){e.required&&(m=t.checked);let r=e.array||[];if(t.type===k&&(t.checked&&!r.includes(o)&&r.push(o),t.checked||(r=r.filter(c=>c!==o))),t.type===F&&t.checked&&(r=[o]),e.array=r,e.value=r.toString(),d(e.mods,$)){let c=e.exp||1;m=r.length>=c}}else if(e.required&&(m=!!o.trim()),m&&o){for(let r of e.mods)if(typeof u[r]=="function"){if(r==="date"){let c=e.mods.filter(g=>b.indexOf(g)!==-1)[0]||b[0];m=u.date[c](o)}else m=u[r](o);break}e.exp===!1&&(m=!1)}e.valid=m,i[s]=e,h.set(a,i)}return n&&x(t,e.valid),e}let u={};u.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(w(t)),u.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(w(t)),u.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(w(t)),u.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(w(t)),u.number=t=>!isNaN(parseFloat(t))&&isFinite(t),u.integer=t=>u.number(t)&&Number.isInteger(Number(t)),u.wholenumber=t=>u.integer(t)&&Number(t)>0,u.date=t=>j(t,b[0]),b.forEach(t=>{u.date[t]=e=>j(e,t)});let l={};l.data=t=>p(t),l.updateData=(t,e,n)=>N(E(t),e,n),l.toggleError=(t,e)=>x(E(t),e),l.submit=t=>{let e=0;p(t.target).forEach(n=>{n.valid===!1&&(e++,e===1&&n.node.focus(),x(n.node,!1),t.preventDefault(),console.error(`${n.name} not valid`))})},l.isComplete=t=>{let e=p(t);return Array.isArray(e)?!e.some(n=>!n.valid):e.valid},Object.keys(u).forEach(t=>l={...l,[t]:u[t]}),v.magic(O,()=>l),v.directive(D,(t,{value:e,expression:n},{evaluate:a})=>{n&&v.effect(()=>{var o;let s=a(n),i=e?((o=p(e))==null?void 0:o.value)===s:s;N(t,{required:i}),i||x(t,!0)})}),v.directive(O,(t,{modifiers:e,expression:n},{evaluate:a})=>{let s=C(t),i=r=>{let c=r.closest(".field-parent")||d(e,$)?r.parentNode.parentNode:r.parentNode;return{mods:[...e,r.type],set:r.closest(H),parentNode:c,exp:n&&a(n)}};function o(r){V(r);let c=d([k,F,"range"],r.type),g=c?"click":f(r,"select")?"change":"blur";_(r,g,m),d(e,S)&&!c&&_(r,S,m)}if(f(t,L)&&(z.set(s,e),t.querySelectorAll(M).forEach(c=>{N(c,i(c)),c.getAttributeNames().some(g=>d(g,`x-${O}`))||o(c)})),f(t,M)){let r=z.has(s)?z.get(s):[];e=[...e,...r],N(t,i(t)),o(t)}function m(r){let c=this,g=p(c).mods,Z=N(c,{exp:n&&a(n)},!0);return!Z.valid&&!d(g,"bluronly")&&r.type==="blur"&&_(c,S,m),!Z.valid&&d(g,"refocus")&&c.focus(),Z.valid}});function x(t,e){let n=R(t),a=p(t).parentNode,s=E(`${A}-${n}`);y(t,"aria-invalid",!e),e?(y(s,T),a.removeAttribute(I)):(s.removeAttribute(T),y(a,I,s.textContent))}function B(t){for(;t;){if(t=t.nextElementSibling,f(t,`.${A}`))return t;if(f(t,M))return!1}return!1}function V(t){let e=R(t),n=`${A}-${e}`,a=p(t),s=d(a.mods,$)?a.parentNode:t,i=document.createElement("span");i.className=A;let o=E(n)||B(s)||i;y(o,"id",n),y(o,T),o.innerHTML||(o.textContent=q(s,P)||`${e.replace(/[-_]/g," ")} ${D}`),y(t,"aria-errormessage",n),E(n)||s.after(o)}},G=K;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(G)});})();
