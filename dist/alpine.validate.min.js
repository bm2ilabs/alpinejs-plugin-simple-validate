(()=>{var J=function(A){let O="data-error",B=`${O}-msg`,F="error-msg",T="validate",D="required",k="input",R="checkbox",$="radio",L="group",M="form",Z="fieldset",x='input:not([type="button"]):not([type="search"]):not([type="reset"]):not([type="submit"]),select,textarea',_="hidden",d=(t,e)=>e?t instanceof HTMLElement&&t.matches(e):t instanceof HTMLElement,H=(t,e)=>typeof t===e,f=(t,e)=>t.includes(e),G=(t,e)=>t.querySelectorAll(e),q=(t,e,n)=>t.addEventListener(e,n),C=(t,e)=>t.getAttribute(e),E=(t,e,n="")=>t.setAttribute(e,n),g=t=>d(t)?t:document.getElementById(t)||G(document,`[name ="${t}"]`)[0],z=t=>d(g(t),M)?t:d(g(t))?t.closest(M):!1,I=t=>C(t,"name")||C(t,"id")||"test",S=t=>String(t).trim(),y=t=>{let e=g(t),n=b.get(z(e));if(!n)return!1;if(d(e,M))return Object.values(n);if(d(e,Z))return Object.values(n).filter(c=>c.set===e);if(d(e,x))return n[I(e)]},j=t=>`${F}-${t}`,v=["mmddyyyy","ddmmyyyy","yyyymmdd"],W=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,K=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function P(t,e){let n=t.split(/[-/.]/),c=v.indexOf(e),a,i,s;W.test(t)?(c===0&&([a,i,s]=n),c===1&&([i,a,s]=n)):K.test(t)&&c===2&&([s,a,i]=n);let u=`${s}-${a}-${i}`,r=new Date(u),o=r.getTime();return!H(o,"number")||Number.isNaN(o)?!1:r.toISOString().startsWith(u)}let b=new WeakMap,U={};function h(t,e,n){let c=z(t),a=I(t);if(c&&a){b.has(c)||b.set(c,A.reactive({}));let i=b.get(c);e={...i[a],name:a,node:t,value:t.value,...e};let s=e.value,u=t.checkValidity();if(e.required&&(u=f([R,$],t.type)?t.checked:!!s.trim()),f([R,$],t.type)){let r=e.array||[];if(t.type===R&&(t.checked&&!r.includes(s)&&r.push(s),t.checked||(r=r.filter(o=>o!==s))),t.type===$&&t.checked&&(r=[s]),e.array=r,e.value=r.toString(),f(e.mods,L)){let o=e.exp||1;u=r.length>=o}}else if(u&&s){for(let r of e.mods)if(H(m[r],"function")){if(r==="date"){let o=e.mods.filter(l=>v.indexOf(l)!==-1)[0]||v[0];u=m.date[o](s)}else u=m[r](s);break}e.exp===!1&&(u=!1)}e.valid=u,i[a]=e,b.set(c,i)}return n&&w(t,e.valid),e}let m={};m.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(S(t)),m.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(S(t)),m.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(S(t)),m.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(S(t)),m.number=t=>!isNaN(parseFloat(t))&&isFinite(t),m.integer=t=>m.number(t)&&Number.isInteger(Number(t)),m.wholenumber=t=>m.integer(t)&&Number(t)>0,m.date=t=>P(t,v[0]),v.forEach(t=>{m.date[t]=e=>P(e,t)});let p={};p.data=t=>y(t),p.updateData=(t,e,n)=>h(g(t),e,n),p.toggleError=(t,e)=>w(g(t),e),p.submit=t=>{y(t.target).forEach(e=>{e.valid===!1&&(w(e.node,!1),t.preventDefault(),console.error(`${e.name} not valid`))})},p.isComplete=t=>{let e=y(t);return e.length>=0?!e.some(n=>!n.valid):e.valid},Object.keys(m).forEach(t=>p={...p,[t]:m[t]}),A.magic(T,()=>p),A.directive(D,(t,{value:e,expression:n},{evaluate:c,Alpine:a})=>{n&&a.effect(()=>{var u;let i=c(n),s=e?((u=y(e))==null?void 0:u.value)===i:i;h(t,{required:s}),s||w(t,!0)})}),A.directive(T,(t,{modifiers:e,expression:n},{evaluate:c})=>{let a=z(t),i=r=>{let o=f(e,L),l=f(e,D)||o||r.hasAttribute(D),N=r.closest(".field-parent")||o?r.parentNode.parentNode:r.parentNode;return{required:l,mods:[...e,r.type],set:r.closest(Z),parentNode:N,exp:n&&c(n)}};function s(r){X(r);let o=f([R,$,"range"],r.type),l=o?"click":d(r,"select")?"change":"blur";q(r,l,u),f(e,k)&&!o&&q(r,k,u)}d(t,M)&&(U[a]=e,G(t,x).forEach(o=>{h(o,i(o)),o.getAttributeNames().some(l=>f(l,`x-${T}`))||s(o)})),d(t,x)&&(e=[...e,...U[a]||[]],h(t,i(t)),s(t));function u(r){let o=this,l=y(o).mods,N=h(o,{exp:n&&c(n)},!0);return!N.valid&&!f(l,"bluronly")&&r.type==="blur"&&q(o,k,u),!N.valid&&f(l,"refocus")&&o.focus(),N.valid}});function w(t,e){let n=I(t),c=y(t).parentNode,a=g(j(n));E(t,"aria-invalid",!e),e?(E(a,_),c.removeAttribute(O)):(a.removeAttribute(_),E(c,O,a.textContent))}function Q(t){for(;t;){if(t=t.nextElementSibling,d(t,`.${F}`))return t;if(d(t,x))return!1}return!1}function X(t){let e=I(t),n=j(e),c=y(t),a=f(c.mods,L)?c.parentNode:t,i=document.createElement("span");i.className=F;let s=g(n)||Q(a)||i;E(s,"id",n),E(s,_),s.innerHTML||(s.textContent=C(a,B)||`${e.replace(/[-_]/g," ")} ${D}`),E(t,"aria-errormessage",n),g(n)||a.after(s)}},V=J;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(V)});})();
