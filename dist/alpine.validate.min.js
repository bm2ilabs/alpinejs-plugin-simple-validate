(()=>{var X=function(v){let O="data-error",B=`${O}-msg`,F="error-msg",k="validate",D="required",L="input",R="checkbox",$="radio",T="group",M="form",Z="fieldset",x='input:not([type="button"]):not([type="search"]):not([type="reset"]):not([type="submit"]),select,textarea',_="hidden",d=(t,e)=>e?t instanceof HTMLElement&&t.matches(e):t instanceof HTMLElement,f=(t,e)=>t.includes(e),H=(t,e)=>t.querySelectorAll(e),q=(t,e,n)=>t.addEventListener(e,n),C=(t,e)=>t.getAttribute(e),E=(t,e,n="")=>t.setAttribute(e,n),l=t=>d(t)?t:document.getElementById(t)||H(document,`[name ="${t}"]`)[0],z=t=>d(l(t),M)?t:d(l(t))?t.closest(M):!1,I=t=>C(t,"name")||C(t,"id")||"test",S=t=>String(t).trim(),y=t=>{let e=l(t),n=h.get(z(e));if(!n)return!1;if(d(e,M))return Object.values(n);if(d(e,Z))return Object.values(n).filter(a=>a.set===e);if(d(e,x))return n[I(e)]},G=t=>`${F}-${t}`,b=["mmddyyyy","ddmmyyyy","yyyymmdd"],V=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,W=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function j(t,e){let n=t.split(/[-/.]/),a=b.indexOf(e),c,i,o;V.test(t)?(a===0&&([c,i,o]=n),a===1&&([i,c,o]=n)):W.test(t)&&a===2&&([o,c,i]=n);let m=`${o}-${c}-${i}`,r=new Date(m),s=r.getTime();return!typeof s==="number"||Number.isNaN(s)?!1:r.toISOString().startsWith(m)}let h=new WeakMap,P={};function N(t,e,n){let a=z(t),c=I(t);if(a&&c){h.has(a)||h.set(a,v.reactive({}));let i=h.get(a);e={...i[c],name:c,node:t,value:t.value,...e};let o=e.value,m=t.checkValidity();if(e.required&&(m=f([R,$],t.type)?t.checked:!!o.trim()),f([R,$],t.type)){let r=e.array||[];if(t.type===R&&(t.checked&&!r.includes(o)&&r.push(o),t.checked||(r=r.filter(s=>s!==o))),t.type===$&&t.checked&&(r=[o]),e.array=r,e.value=r.toString(),f(e.mods,T)){let s=e.exp||1;m=r.length>=s}}else if(m&&o){for(let r of e.mods)if(typeof u[r]=="function"){if(r==="date"){let s=e.mods.filter(g=>b.indexOf(g)!==-1)[0]||b[0];m=u.date[s](o)}else m=u[r](o);break}e.exp===!1&&(m=!1)}e.valid=m,i[c]=e,h.set(a,i)}return n&&w(t,e.valid),e}let u={};u.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(S(t)),u.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(S(t)),u.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(S(t)),u.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(S(t)),u.number=t=>!isNaN(parseFloat(t))&&isFinite(t),u.integer=t=>u.number(t)&&Number.isInteger(Number(t)),u.wholenumber=t=>u.integer(t)&&Number(t)>0,u.date=t=>j(t,b[0]),b.forEach(t=>{u.date[t]=e=>j(e,t)});let p={};p.data=t=>y(t),p.updateData=(t,e,n)=>N(l(t),e,n),p.toggleError=(t,e)=>w(l(t),e),p.submit=t=>{y(t.target).forEach(e=>{e.valid===!1&&(w(e.node,!1),t.preventDefault(),console.error(`${e.name} not valid`))})},p.isComplete=t=>{let e=y(t);return e.length>=0?!e.some(n=>!n.valid):e.valid},Object.keys(u).forEach(t=>p={...p,[t]:u[t]}),v.magic(k,()=>p),v.directive(D,(t,{value:e,expression:n},{evaluate:a})=>{n&&v.effect(()=>{var o;let c=a(n),i=e?((o=y(e))==null?void 0:o.value)===c:c;N(t,{required:i}),i||w(t,!0)})}),v.directive(k,(t,{modifiers:e,expression:n},{evaluate:a})=>{let c=z(t),i=r=>{let s=f(e,T),g=f(e,D)||s||r.hasAttribute(D),A=r.closest(".field-parent")||s?r.parentNode.parentNode:r.parentNode;return{required:g,mods:[...e,r.type],set:r.closest(Z),parentNode:A,exp:n&&a(n)}};function o(r){Q(r);let s=f([R,$,"range"],r.type),g=s?"click":d(r,"select")?"change":"blur";q(r,g,m),f(e,L)&&!s&&q(r,L,m)}d(t,M)&&(P[c]=e,H(t,x).forEach(s=>{N(s,i(s)),s.getAttributeNames().some(g=>f(g,`x-${k}`))||o(s)})),d(t,x)&&(e=[...e,...P[c]||[]],N(t,i(t)),o(t));function m(r){let s=this,g=y(s).mods,A=N(s,{exp:n&&a(n)},!0);return!A.valid&&!f(g,"bluronly")&&r.type==="blur"&&q(s,L,m),!A.valid&&f(g,"refocus")&&s.focus(),A.valid}});function w(t,e){let n=I(t),a=y(t).parentNode,c=l(G(n));E(t,"aria-invalid",!e),e?(E(c,_),a.removeAttribute(O)):(c.removeAttribute(_),E(a,O,c.textContent))}function K(t){for(;t;){if(t=t.nextElementSibling,d(t,`.${F}`))return t;if(d(t,x))return!1}return!1}function Q(t){let e=I(t),n=G(e),a=y(t),c=f(a.mods,T)?a.parentNode:t,i=document.createElement("span");i.className=F;let o=l(n)||K(c)||i;E(o,"id",n),E(o,_),o.innerHTML||(o.textContent=C(c,B)||`${e.replace(/[-_]/g," ")} ${D}`),E(t,"aria-errormessage",n),l(n)||c.after(o)}},U=X;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(U)});})();
