(()=>{var Q=function(b){let O="data-error",U=`${O}-msg`,A="error-msg",S="validate",$="required",D="input",k="checkbox",T="radio",M="group",F="form",G="fieldset",L=t=>`:not([type="${t}"])`,R=`${D}${L("search")}${L("reset")}${L("submit")},select,textarea`,_="hidden",f=(t,e)=>{let n=t instanceof HTMLElement;return e?n&&t.matches(e):n},d=(t,e)=>t.includes(e),q=(t,e,n)=>t.addEventListener(e,n),C=(t,e)=>t.getAttribute(e),p=(t,e,n="")=>t.setAttribute(e,n),y=t=>f(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),z=t=>t.closest(F),E=t=>C(t,"name")||C(t,"id"),w=t=>String(t).trim(),g=t=>{let e=y(t),n=N.get(z(e));if(!n)return!1;if(f(e,F))return Object.values(n);if(f(e,G))return Object.values(n).filter(a=>a.set===e);if(f(e,R))return n[E(e)]},x=["mmddyyyy","ddmmyyyy","yyyymmdd"],W=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,B=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function Z(t,e=x[2]){let n=t.split(/[-/.]/),a=x.indexOf(e),c,i,o;W.test(t)?(a===0&&([c,i,o]=n),a===1&&([i,c,o]=n)):B.test(t)&&a===2&&([o,c,i]=n);let m=`${o}-${c}-${i}`,r=new Date(m),s=r.getTime();return!typeof s==="number"||Number.isNaN(s)?!1:r.toISOString().startsWith(m)}let N=new WeakMap,H=new WeakMap;function h(t,e,n){let a=z(t),c=E(t);if(a&&c){N.has(a)||N.set(a,b.reactive({}));let i=N.get(a);e={...i[c],name:c,node:t,value:t.value,...e},e.required=e.required||d(e.mods,$)||d(e.mods,M)||t.hasAttribute($);let o=e.value,m=t.checkValidity();if(d([k,T],t.type)){e.required&&(m=t.checked);let r=e.array||[];if(t.type===k&&(t.checked&&!r.includes(o)&&r.push(o),t.checked||(r=r.filter(s=>s!==o))),t.type===T&&t.checked&&(r=[o]),e.array=r,e.value=r.toString(),d(e.mods,M)){let s=e.exp||1;m=r.length>=s}}else if(e.required&&(m=!!o.trim()),m&&o){let r=e.mods.filter(s=>x.indexOf(s)!==-1)[0];for(let s of e.mods)if(typeof u[s]=="function"){m=s==="date"?Z(o,r):u[s](o);break}e.exp===!1&&(m=!1)}e.valid=m,i[c]=e,N.set(a,i)}return n&&I(t,e.valid),e}let u={};u.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(w(t)),u.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(w(t)),u.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(w(t)),u.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(w(t)),u.number=t=>!isNaN(parseFloat(t))&&isFinite(t),u.integer=t=>u.number(t)&&Number.isInteger(Number(t)),u.wholenumber=t=>u.integer(t)&&Number(t)>0,u.date=t=>Z(t),x.forEach(t=>{u.date[t]=e=>Z(e,t)});let l={};l.data=t=>g(t),l.updateData=(t,e,n)=>h(y(t),e,n),l.toggleError=(t,e)=>I(y(t),e),l.submit=t=>{let e=0;g(t.target).forEach(n=>{n.valid===!1&&(e++,e===1&&n.node.focus(),I(n.node,!1),t.preventDefault(),console.error(`${n.name} not valid`))})},l.isComplete=t=>{let e=g(t);return Array.isArray(e)?!e.some(n=>!n.valid):e.valid},Object.keys(u).forEach(t=>l={...l,[t]:u[t]}),b.magic(S,()=>l),b.directive($,(t,{value:e,expression:n},{evaluate:a})=>{n&&b.effect(()=>{var o;let c=a(n),i=e?((o=g(e))==null?void 0:o.value)===c:c;h(t,{required:i}),i||I(t,!0)})}),b.directive(S,(t,{modifiers:e,expression:n},{evaluate:a})=>{let c=z(t),i=r=>{let s=r.closest(".field-parent")||d(e,M)?r.parentNode.parentNode:r.parentNode;return{mods:[...e,r.type],set:r.closest(G),parentNode:s,exp:n&&a(n)}};function o(r){K(r);let s=d([k,T,"range"],r.type),v=s?"click":f(r,"select")?"change":"blur";q(r,v,m),d(e,D)&&!s&&q(r,D,m)}if(f(t,F)&&(H.set(c,e),t.querySelectorAll(R).forEach(s=>{h(s,i(s)),s.getAttributeNames().some(v=>E(s)&&d(v,`x-${S}`))||o(s)})),E(t)&&f(t,R)){let r=H.has(c)?H.get(c):[];e=[...e,...r],h(t,i(t)),o(t)}function m(r){let s=this,v=g(s).mods,j=h(s,{exp:n&&a(n)},!0);return!j.valid&&!d(v,"bluronly")&&r.type==="blur"&&q(s,D,m),!j.valid&&d(v,"refocus")&&s.focus(),j.valid}});function I(t,e){let n=E(t),a=g(t).parentNode,c=y(`${A}-${n}`);p(t,"aria-invalid",!e),e?(p(c,_),a.removeAttribute(O)):(c.removeAttribute(_),p(a,O,c.textContent))}function V(t){for(;t;){if(t=t.nextElementSibling,f(t,`.${A}`))return t;if(f(t,R))return!1}return!1}function K(t){let e=E(t),n=`${A}-${e}`,a=g(t),c=d(a.mods,M)?a.parentNode:t,i=document.createElement("span");i.className=A;let o=y(n)||V(c)||i;p(o,"id",n),p(o,_),o.innerHTML||(o.textContent=C(c,U)||`${e.replace(/[-_]/g," ")} ${$}`),p(t,"aria-errormessage",n),y(n)||c.after(o)}},P=Q;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(P)});})();
