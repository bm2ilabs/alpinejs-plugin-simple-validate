(()=>{var z=function(D){let x="data-error",U=`${x}-msg`,N="error-msg",T="validate",k="required",M="input",q="checkbox",w="radio",C="group",S="form",F="fieldset",_=t=>`:not([type="${t}"])`,h=`${M}${_("search")}${_("reset")}${_("submit")},select,textarea`,H="hidden",d=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},g=(t,e)=>Array.isArray(t)&&t.includes(e),I=(t,e,r)=>t.addEventListener(e,r),b=(t,e)=>t.getAttribute(e),p=(t,e,r="")=>t.setAttribute(e,r),v=(t,e=document)=>d(t)?t:e.querySelector(`#${t}`)||e.querySelector(`[name ="${t}"]`),A=t=>t&&t.closest(S),R=t=>b(t,"name")||b(t,"id"),j=t=>{let e=b(t,"id");if(e)return e;let r=`${t.tagName.toLowerCase()}-${Math.random().toString(36).substring(2,9)}`;return p(t,"id",r),r},J=t=>String(t).trim(),y=t=>{let e=v(t),r=E.get(A(e));if(!r)return!1;if(d(e,S))return Object.values(r);if(d(e,F)){let a=e.querySelectorAll(h);return Object.values(r).filter(o=>Array.from(a).some(u=>o.node===u))}if(d(e,h))return r[R(e)]},G=["mmddyyyy","ddmmyyyy","yyyymmdd"],B=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,W=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function Y(t,e=G[2]){let r=t.split(/[-/.]/),a=G.indexOf(e),o,u,n;B.test(t)?(a===0&&([o,u,n]=r),a===1&&([u,o,n]=r)):W.test(t)&&a===2&&([n,o,u]=r);let s=`${n}-${o}-${u}`,c=new Date(s),i=c.getTime();return!typeof i==="number"||Number.isNaN(i)?!1:c.toISOString().startsWith(s)}let E=new WeakMap,V=new WeakMap;function $(t,e,r){var u;let a=A(t),o=R(t);if(a&&o){E.has(a)||E.set(a,D.reactive({}));let n=E.get(a),s=t.matches(":disabled"),c=((u=n[o])==null?void 0:u.required)||t.required;e={...n[o],name:o,node:t,value:s?"":t.value,required:c,disabled:s,...e};let i=e.value,m=t.checkValidity();if(!e.disabled&&m&&g([q,w],t.type)){e.required&&(m=t.checked);let f=e.array||[];t.type===q&&(t.checked&&!f.includes(i)&&f.push(i),t.checked||(f=f.filter(X=>X!==i))),t.type===w&&t.checked&&(f=[i]),e.array=f,e.value=f.toString()}e.valid=m,n[o]=e,E.set(a,n)}return r&&O(t,e.valid),e}function L(t,e,r){if((d(t,S)||d(t,F))&&y(t).forEach(o=>$(o.node)),d(t,h))return $(t,e,r)}let l={};l.data=t=>y(t),l.formData=t=>E.get(A(v(t))),l.value=(t,e)=>{t=v(t);let r=y(t);return r?Array.isArray(r)?r.reduce((a,o)=>(a[o.name]=o.value,a),{}):(e&&(r.value=e,t.value=e,$(t)),r.value):!1},l.updateData=(t,e,r)=>L(v(t),e,r),l.toggleError=(t,e)=>O(v(t),e),l.submit=t=>{let e=0;y(t.target).forEach(r=>{r=L(r.node),r.valid===!1&&(e++,e===1&&r.node.focus(),O(r.node,!1),t.preventDefault(),console.error(`${r.name} ${k}`))})},l.isComplete=t=>{let e=y(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},D.magic(T,()=>l),D.magic("formData",t=>E.get(A(v(t)))),D.directive(T,(t,{modifiers:e})=>{let r=n=>{let s=new MutationObserver(c=>{for(let i of c){let m=i.target;if(i.type==="attributes"){let f=i.attributeName;m.matches(h)&&["disabled","required","value"].includes(f)&&L(m),m.matches(F)&&f==="disabled"&&L(m)}}});return s.observe(n,{attributes:!0,childList:!0,subtree:!0}),s},a=n=>{let s=n.closest(".field-parent")||g(e,C)?n.parentNode.parentNode:n.parentNode,c=[...e,n.type],i=n.required||g(c,k)||g(c,C),m=n.matches(":disabled");return{mods:c,required:i,disabled:m,parentNode:s}};function o(n){Q(n);let s=g([q,w,"range"],n.type),c=s?"click":d(n,"select")?"change":"blur";I(n,c,u),g(e,M)&&!s&&I(n,M,u)}if(d(t,S)){r(t),e.includes("use-browser")||p(t,"novalidate","true"),e.includes("validate-on-submit")&&t.addEventListener("submit",function(s){l.submit(s)}),V.set(t,e);let n=t.querySelectorAll(h);I(t,"reset",()=>{t.reset();let s=y(t);setTimeout(()=>{s.forEach(c=>$(c.node))},50)}),n.forEach(s=>{R(s)&&($(s,a(s)),s.getAttributeNames().some(c=>c.includes(`x-${T}`))||o(s))})}function u(n){let s=this,c=y(s).mods,i=$(s);return O(s,i.valid),!i.valid&&!g(c,"bluronly")&&n.type==="blur"&&I(s,M,u),!i.valid&&g(c,"refocus")&&s.focus(),i.valid}});function O(t,e){let r=y(t).parentNode,a=document.getElementById(b(t,"aria-errormessage"));p(t,"aria-invalid",!e),e?(p(a,H),r.removeAttribute(x)):(a.removeAttribute(H),p(r,x,a.textContent))}function K(t){for(;t;){if(t=t.nextElementSibling,d(t,`.${N}`))return t;if(d(t,h))return!1}return!1}function Q(t){let e=y(t),r=g(e.mods,C)?e.parentNode:t,a=document.createElement("span");a.className=N;let o=document.getElementById(`${N}-${b(r,"id")}`)||K(r)||a,u=j(r),n=`${N}-${u}`;b(o,"id")!==n&&p(o,"id",n),p(o,H);let s=R(t);o.innerHTML||(o.textContent=b(r,U)||`${s.replace(/[-_]/g," ")} ${k}`),p(t,"aria-errormessage",n),v(n,A(t))||r.after(o)}},P=z;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(P)});})();
