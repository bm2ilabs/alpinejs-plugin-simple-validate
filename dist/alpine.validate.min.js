(()=>{var at=function(F){let Y="data-error-msg",Z="data-error",G="error-msg",H="validate",p="required",T="input",k="checkbox",P="radio",U="group",S="form",tt="fieldset",V='input:not([type="button"]):not([type="search"]):not([type="reset"]):not([type="submit"]),select,textarea',x="hidden",f=(t,e)=>e?t instanceof HTMLElement&&t.matches(e):t instanceof HTMLElement,j=t=>f(t,V),L=(t,e)=>typeof t===e,u=(t,e)=>t.includes(e),et=(t,e)=>t.querySelectorAll(e),O=t=>u([k,P,"range"],t.type),B=t=>u([k,P],t.type),C=t=>t.type===k,_=(t,e,s)=>t.addEventListener(e,s),K=(t,e)=>t.getAttribute(e),A=(t,e,s="")=>t.setAttribute(e,s),y=t=>L(t,"string")?document.getElementById(t):f(t)?t:!1,q=t=>f(y(t),S)?t:f(y(t))?t.closest(S):!1,M=t=>t.name||K(t,"id"),I=t=>String(t).trim(),E=t=>{t=y(t);let e=X[q(t)]||[];return f(t,tt)?e.filter(s=>s.set===t):j(t)?e.filter(s=>s.name===M(t))[0]:e};function nt(t,e){var s=t.nextElementSibling;if(!e)return s;for(;s;){if(f(s,e))return s;s=s.nextElementSibling}return!1}let Q=t=>`error-msg-${t}`,h=["mmddyyyy","ddmmyyyy","yyyymmdd"];function W(t,e){let[s,c,o]=t.split(/[-/.]/),r;if(e===h[0]&&/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/.test(t))r=`${o}-${s}-${c}`;else if(e===h[1]&&/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/.test(t))r=`${o}-${c}-${s}`;else if(e===h[2]&&/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/.test(t))r=`${s}-${c}-${o}`;else return!1;let m=new Date(r),v=m.getTime();return!L(v,"number")||Number.isNaN(v)?!1:m.toISOString().startsWith(r)}let X=F.reactive({}),w={};function R(t,e,s){let c=q(t),o=M(t);if(e={name:o,node:t,value:t.value,...e},f(c,S)&&o){let r=E(c);if(r.some(m=>m.name===o)){e={...E(t),...e};let m=e.value,v=!m.trim();if(s===!0&&(e.mods=[...e.mods,p],e.valid=!v&&e.valid),s===!1&&(e.mods=e.mods.filter(a=>a!==p),e.valid=v?!0:e.valid),C(t)&&!m){let a=e.array;a=a.some(n=>n===m)?a.filter(n=>n!==m):[...a,m],e={...e,array:a,value:a.toString()}}r=r.map(a=>a.name===o?e:a)}else r.push(e);X[c]=r}}let i={};i.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(I(t)),i.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(I(t)),i.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(I(t)),i.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(I(t)),i.number=t=>!isNaN(parseFloat(t))&&isFinite(t),i.integer=t=>i.number(t)&&Number.isInteger(Number(t)),i.wholenumber=t=>i.integer(t)&&Number(t)>0,i.date=t=>W(t,h[0]),h.forEach(t=>{i.date[t]=e=>W(e,t)});let g={};g.data=t=>E(t),g.updateData=(t,e)=>R(y(t),e),g.makeRequired=(t,e)=>R(y(t),{},e),g.isRequired=t=>u(E(t).mods,p)||y(t).hasAttribute(p),g.toggleError=(t,e)=>z(y(t),e),g.submit=t=>{E(t.target).forEach(e=>{e.valid===!1&&(z(e.node,!1),t.preventDefault(),console.error(`${e.name} not valid`))})},g.isComplete=t=>!E(t).some(e=>!e.valid),Object.keys(i).forEach(t=>g={...g,[t]:i[t]}),F.magic(H,()=>g),F.directive(H,(t,{modifiers:e,expression:s},{evaluate:c})=>{let o=q(t);w[o]=w[o]||[];let r=[...e,...w[o]],m=n=>{let l=N=>u(r,p)||u(r,U)||N.hasAttribute(p)||!1;return{array:C(n)&&[],value:B(n)?"":n.value,valid:!l(n),mods:r,set:n.closest("fieldset")}};function v(n){st(n);let l=O(n)?"click":f(n,"select")?"change":"blur";_(n,l,a),u(r,T)&&!O(n)&&_(n,T,a)}f(t,S)&&(w[o]=e,et(t,V).forEach(l=>{R(l,m(l)),l.getAttributeNames().some(N=>u(N,"x-validate"))||v(l)})),j(t)&&(R(t,m(t)),v(t));function a(){let n=this,l=n.value.trim(),N=E(n),b=[n.type,...N.mods];n.hasAttribute(p)&&(b=[...b,p]);let rt=u(b,p),d=!0;if(C(n)&&u(b,U)){let $=N.array.length;$=n.checked?$+1:$-1;let D=parseInt(s&&c(s))||1;d=$>=D}else if(d=n.checkValidity(),rt&&(!l||B(n)&&!n.checked)&&(d=!1),d&&l){for(let D of b)if(L(i[D],"function")){if(D==="date"){let ot=b.filter(it=>h.indexOf(it)!==-1);d=i.date[ot[0]||h[0]](l)}else d=i[D](l);break}(s&&c(s))===!1&&(d=!1)}return z(n,d),R(n,{value:n.value,valid:d}),!d&&f(n,"input, textarea")&&!O(n)&&!u(b,"bluronly")&&_(n,T,a),!d&&u(b,"refocus")&&n.focus(),d}});function z(t,e){let s=M(t),o=u(E(t).mods,"group")?t.parentNode.parentNode:t.parentNode,r=y(Q(s));A(t,"aria-invalid",!e),e?(A(r,x),o.removeAttribute(Z)):(r.removeAttribute(x),A(o,Z,r.textContent))}function st(t){let e=M(t),s=u(E(t).mods,"group")?t.parentNode.parentNode:t,c=document.createElement("span");c.className=G;let o=nt(s,`.${G}`)||c,r=Q(e);A(o,"id",r),A(o,x),o.innerHTML||(o.textContent=K(t,Y)||`${e.replace(/[-_]/g," ")} required`),A(t,"aria-errormessage",r),y(r)||s.after(o)}},J=at;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(J)});})();
