(()=>{var tt=function($){let _="data-error",B=`${_}-msg`,I="error-msg",C="validate",M="required",R="input",z="checkbox",Z="radio",q="group",x="form",H="fieldset",U=t=>`:not([type="${t}"])`,w=`${R}${U("search")}${U("reset")}${U("submit")},select,textarea`,j="hidden",f=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},b=(t,e)=>Array.isArray(t)&&t.includes(e),O=(t,e,r)=>t.addEventListener(e,r),D=(t,e)=>t.getAttribute(e),l=(t,e,r="")=>t.setAttribute(e,r),v=(t,e=document)=>f(t)?t:e.querySelector(`#${t}`)||e.querySelector(`[name ="${t}"]`),h=t=>t&&t.closest(x),S=t=>D(t,"name")||D(t,"id"),K=t=>{let e=D(t,"id");if(e)return e;let r=`${t.tagName.toLowerCase()}-${Math.random().toString(36).substring(2,9)}`;return l(t,"id",r),r},k=t=>String(t).trim(),y=t=>{let e=v(t),r=A.get(h(e));if(!r)return!1;if(f(e,x))return Object.values(r);if(f(e,H))return Object.values(r).filter(a=>a.set===e);if(f(e,w))return r[S(e)]},L=["mmddyyyy","ddmmyyyy","yyyymmdd"],Q=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,X=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function G(t,e=L[2]){let r=t.split(/[-/.]/),a=L.indexOf(e),o,u,c;Q.test(t)?(a===0&&([o,u,c]=r),a===1&&([u,o,c]=r)):X.test(t)&&a===2&&([c,o,u]=r);let p=`${c}-${o}-${u}`,m=new Date(p),n=m.getTime();return!typeof n==="number"||Number.isNaN(n)?!1:m.toISOString().startsWith(p)}let A=new WeakMap,P=new WeakMap;function E(t,e,r){let a=h(t),o=S(t);if(a&&o){A.has(a)||A.set(a,$.reactive({}));let u=A.get(a);e={...u[o],name:o,node:t,value:t.value,...e};let c=e.set;e.required=e.required||b(e.mods,M)||b(e.mods,q)||t.hasAttribute(M);let p=t.hasAttribute("disabled")||(c==null?void 0:c.hasAttribute("disabled")),m=e.value,n=t.checkValidity();if(!p&&n){if(b([z,Z],t.type)){e.required&&(n=t.checked);let s=e.array||[];if(t.type===z&&(t.checked&&!s.includes(m)&&s.push(m),t.checked||(s=s.filter(i=>i!==m))),t.type===Z&&t.checked&&(s=[m]),e.array=s,e.value=s.toString(),b(e.mods,q)){let i=e.exp||1;n=s.length>=i}}else if(e.required&&(n=!!m.trim()),n&&m){let s=e.mods.filter(i=>L.indexOf(i)!==-1)[0];for(let i of e.mods)if(typeof d[i]=="function"){n=i==="date"?G(m,s):d[i](m);break}e.exp===!1&&(n=!1)}}e.valid=n,u[o]=e,A.set(a,u)}return r&&F(t,e.valid),e}function T(t,e,r){if((f(t,x)||f(t,H))&&y(t).forEach(o=>E(o.node)),f(t,w))return E(t,e,r)}let d={};d.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(k(t)),d.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(k(t)),d.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(k(t)),d.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(k(t)),d.number=t=>!isNaN(parseFloat(t))&&isFinite(t),d.integer=t=>d.number(t)&&Number.isInteger(Number(t)),d.wholenumber=t=>d.integer(t)&&Number(t)>0,d.date=t=>G(t),L.forEach(t=>{d.date[t]=e=>G(e,t)});let g={};g.data=t=>y(t),g.formData=t=>A.get(h(v(t))),g.value=(t,e)=>{t=v(t);let r=y(t);return r?Array.isArray(r)?r.reduce((a,o)=>(a[o.name]=o.value,a),{}):(e&&(r.value=e,t.value=e,E(t)),r.value):!1},g.updateData=(t,e,r)=>T(v(t),e,r),g.toggleError=(t,e)=>F(v(t),e),g.submit=t=>{let e=0;y(t.target).forEach(r=>{r=T(r.node),r.valid===!1&&(e++,e===1&&r.node.focus(),F(r.node,!1),t.preventDefault(),console.error(`${r.name} ${M}`))})},g.isComplete=t=>{let e=y(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(d).forEach(t=>g={...g,[t]:d[t]}),$.magic(C,()=>g),$.magic("formData",t=>A.get(h(v(t)))),$.directive(M,(t,{value:e,expression:r},{evaluate:a})=>{r&&(console.log("x-required is depreciated. Use :required"),$.effect(()=>{var c;let o=a(r),u=e?((c=y(e))==null?void 0:c.value)===o:o;E(t,{required:u}),u||F(t,!0)}))}),$.directive(C,(t,{modifiers:e,expression:r},{evaluate:a})=>{let o=h(t),u=n=>{let s=new MutationObserver(i=>{for(let N of i)N.type==="attributes"&&(N.attributeName==="disabled"&&T(n),N.attributeName==="required"&&T(n,{required:n.hasAttribute("required")}))});return s.observe(n,{attributes:!0}),s},c=n=>{let s=n.closest(".field-parent")||b(e,q)?n.parentNode.parentNode:n.parentNode,i=n.closest(H);return u(n),i&&u(i),{mods:[...e,n.type],set:i,parentNode:s,exp:r&&a(r)}};function p(n){Y(n);let s=b([z,Z,"range"],n.type),i=s?"click":f(n,"select")?"change":"blur";O(n,i,m),b(e,R)&&!s&&O(n,R,m)}if(f(t,x)){e.includes("use-browser")||t.setAttribute("novalidate",!0),e.includes("validate-on-submit")&&t.addEventListener("submit",function(s){g.submit(s)}),P.set(o,e);let n=t.querySelectorAll(w);O(t,"reset",()=>{t.reset();let s=y(t);setTimeout(()=>{s.forEach(i=>E(i.node))},50)}),n.forEach(s=>{S(s)&&(E(s,c(s)),s.getAttributeNames().some(i=>i.includes(`x-${C}`))||p(s))})}if(S(t)&&f(t,w)){let n=P.has(o)?P.get(o):[];e=[...e,...n],E(t,c(t)),p(t)}function m(n){let s=this,i=y(s).mods,N=E(s,{exp:r&&a(r)},!0);return!N.valid&&!b(i,"bluronly")&&n.type==="blur"&&O(s,R,m),!N.valid&&b(i,"refocus")&&s.focus(),N.valid}});function F(t,e){let r=y(t).parentNode,a=W(t);l(t,"aria-invalid",!e),e?(l(a,j),r.removeAttribute(_)):(a.removeAttribute(j),l(r,_,a.textContent))}function J(t){for(;t;){if(t=t.nextElementSibling,f(t,`.${I}`))return t;if(f(t,w))return!1}return!1}function W(t){let e=D(t,"id");return h(t).querySelector(`#${I}-${e}`)}function Y(t){let e=y(t),r=b(e.mods,q)?e.parentNode:t,a=document.createElement("span");a.className=I;let o=W(t)||J(r)||a,u=K(t),c=`${I}-${u}`;D(o,"id")!==c&&l(o,"id",c),l(o,j);let p=S(t);o.innerHTML||(o.textContent=D(r,B)||`${p.replace(/[-_]/g," ")} ${M}`),l(t,"aria-errormessage",c),v(c,h(t))||r.after(o)}},V=tt;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(V)});})();
