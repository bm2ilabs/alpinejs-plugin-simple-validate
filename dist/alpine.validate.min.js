(()=>{var st=function(A){let I="data-error",Q=`${I}-msg`,S="error-msg",w="validate",D="required",O="input",k="checkbox",F="radio",T="group",R="form",Z="fieldset",L='input:not([type="button"]):not([type="search"]):not([type="reset"]):not([type="submit"]),select,textarea',C="hidden",d=(t,e)=>e?t instanceof HTMLElement&&t.matches(e):t instanceof HTMLElement,H=t=>d(t,L),G=(t,e)=>typeof t===e,f=(t,e)=>t.includes(e),j=(t,e)=>t.querySelectorAll(e),P=t=>f([k,F,"range"],t.type),U=t=>f([k,F],t.type),X=t=>t.type===k,_=(t,e,n)=>t.addEventListener(e,n),q=(t,e)=>t.getAttribute(e),E=(t,e,n="")=>t.setAttribute(e,n),l=t=>d(t)?t:document.getElementById(t)||j(document,`[name ="${t}"]`)[0],z=t=>d(l(t),R)?t:d(l(t))?t.closest(R):!1,$=t=>q(t,"name")||q(t,"id")||"test",x=t=>String(t).trim(),y=t=>{let e=l(t),n=b.get(z(e));if(!n)return!1;if(d(e,R))return Object.values(n);if(d(e,Z))return Object.values(n).filter(c=>c.set===e);if(H(e))return n[$(e)]},V=t=>`${S}-${t}`,v=["mmddyyyy","ddmmyyyy","yyyymmdd"],J=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,Y=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function B(t,e){let n=t.split(/[-/.]/),c=v.indexOf(e),a,i,o;J.test(t)?(c===0&&([a,i,o]=n),c===1&&([i,a,o]=n)):Y.test(t)&&c===2&&([o,a,i]=n);let u=`${o}-${a}-${i}`,s=new Date(u),r=s.getTime();return!G(r,"number")||Number.isNaN(r)?!1:s.toISOString().startsWith(u)}let b=new WeakMap,W={};function h(t,e,n){let c=z(t),a=$(t);if(c&&a){b.has(c)||b.set(c,A.reactive({}));let i=b.get(c);e={...i[a],name:a,node:t,value:t.value,...e};let o=e.value,u=t.checkValidity();if(e.required&&(u=U(t)?t.checked:!!o.trim()),U(t)){let s=e.array||[];if(X(t)&&(t.checked&&!s.includes(o)&&s.push(o),t.checked||(s=s.filter(r=>r!==o))),t.type===F&&t.checked&&(s=[o]),e.array=s,e.value=s.toString(),f(e.mods,T)){let r=e.exp||1;u=s.length>=r}}else if(u&&o){for(let s of e.mods)if(G(m[s],"function")){if(s==="date"){let r=e.mods.filter(p=>v.indexOf(p)!==-1)[0]||v[0];u=m.date[r](o)}else u=m[s](o);break}e.exp===!1&&(u=!1)}e.valid=u,i[a]=e,b.set(c,i)}return n&&M(t,e.valid),e}let m={};m.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x(t)),m.tel=t=>/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/.test(x(t)),m.website=t=>/^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(x(t)),m.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(x(t)),m.number=t=>!isNaN(parseFloat(t))&&isFinite(t),m.integer=t=>m.number(t)&&Number.isInteger(Number(t)),m.wholenumber=t=>m.integer(t)&&Number(t)>0,m.date=t=>B(t,v[0]),v.forEach(t=>{m.date[t]=e=>B(e,t)});let g={};g.data=t=>y(t),g.updateData=(t,e,n)=>h(l(t),e,n),g.toggleError=(t,e)=>M(l(t),e),g.submit=t=>{y(t.target).forEach(e=>{e.valid===!1&&(M(e.node,!1),t.preventDefault(),console.error(`${e.name} not valid`))})},g.isComplete=t=>{let e=y(t);return e.length>=0?!e.some(n=>!n.valid):e.valid},Object.keys(m).forEach(t=>g={...g,[t]:m[t]}),A.magic(w,()=>g),A.directive(D,(t,{value:e,expression:n},{evaluate:c,Alpine:a})=>{n&&a.effect(()=>{var u;let i=c(n),o=e?((u=y(e))==null?void 0:u.value)===i:i;h(t,{required:o}),o||M(t,!0)})}),A.directive(w,(t,{modifiers:e,expression:n},{evaluate:c})=>{let a=z(t),i=s=>{let r=f(e,T),p=nt=>f(e,D)||r||nt.hasAttribute(D)||!1,N=s.closest(".field-parent")||r?s.parentNode.parentNode:s.parentNode;return{required:p(s),mods:[...e,s.type],set:s.closest(Z),parentNode:N,exp:n&&c(n)}};function o(s){et(s);let r=P(s)?"click":d(s,"select")?"change":"blur";_(s,r,u),f(e,O)&&!P(s)&&_(s,O,u)}d(t,R)&&(W[a]=e,j(t,L).forEach(r=>{h(r,i(r)),r.getAttributeNames().some(p=>f(p,`x-${w}`))||o(r)})),H(t)&&(e=[...e,...W[a]||[]],h(t,i(t)),o(t));function u(s){let r=this,p=y(r).mods,N=h(r,{value:r.value,exp:n&&c(n)},!0);return!N.valid&&!f(p,"bluronly")&&s.type==="blur"&&_(r,O,u),!N.valid&&f(p,"refocus")&&r.focus(),N.valid}});function M(t,e){let n=$(t),c=y(t).parentNode,a=l(V(n));E(t,"aria-invalid",!e),e?(E(a,C),c.removeAttribute(I)):(a.removeAttribute(C),E(c,I,a.textContent))}function tt(t){for(;t;){if(t=t.nextElementSibling,d(t,`.${S}`))return t;if(d(t,L))return!1}return!1}function et(t){let e=$(t),n=V(e),c=y(t),a=f(c.mods,T)?c.parentNode:t,i=document.createElement("span");i.className=S;let o=l(n)||tt(a)||i;E(o,"id",n),E(o,C),o.innerHTML||(o.textContent=q(a,Q)||`${e.replace(/[-_]/g," ")} ${D}`),E(t,"aria-errormessage",n),l(n)||a.after(o)}},K=st;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(K)});})();
