(()=>{var X=function(A){let k="data-error",W=`${k}-msg`,M="error-msg",F="validate",D="required",R="input",L="checkbox",_="radio",S="group",q="form",G="fieldset",C=t=>`:not([type="${t}"])`,w=`${R}${C("search")}${C("reset")}${C("submit")},select,textarea`,z="hidden",l=(t,e)=>{let r=t instanceof HTMLElement;return e?r&&t.matches(e):r},g=(t,e)=>Array.isArray(t)&&t.includes(e),I=(t,e,r)=>t.addEventListener(e,r),Z=(t,e)=>t.getAttribute(e),h=(t,e,r="")=>t.setAttribute(e,r),b=t=>l(t)?t:document.getElementById(t)||document.querySelector(`[name ="${t}"]`),N=t=>t&&t.closest(q),$=t=>Z(t,"name")||Z(t,"id"),x=t=>String(t).trim(),p=t=>{let e=b(t),r=E.get(N(e));if(!r)return!1;if(l(e,q))return Object.values(r);if(l(e,G))return Object.values(r).filter(o=>o.set===e);if(l(e,w))return r[$(e)]},O=["mmddyyyy","ddmmyyyy","yyyymmdd"],B=/^(\d{1,2})[-/.](\d{1,2})[-/.](\d{4})$/,V=/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/;function H(t,e=O[2]){let r=t.split(/[-/.]/),o=O.indexOf(e),c,i,d;B.test(t)?(o===0&&([c,i,d]=r),o===1&&([i,c,d]=r)):V.test(t)&&o===2&&([d,c,i]=r);let m=`${d}-${c}-${i}`,n=new Date(m),s=n.getTime();return!typeof s==="number"||Number.isNaN(s)?!1:n.toISOString().startsWith(m)}let E=new WeakMap,j=new WeakMap;function v(t,e,r){let o=N(t),c=$(t);if(o&&c){E.has(o)||E.set(o,A.reactive({}));let i=E.get(o);e={...i[c],name:c,node:t,value:t.value,...e};let d=e.set;e.required=e.required||g(e.mods,D)||g(e.mods,S)||t.hasAttribute(D);let m=t.hasAttribute("disabled")||(d==null?void 0:d.hasAttribute("disabled")),n=e.value,s=t.checkValidity();if(!m&&s){if(g([L,_],t.type)){e.required&&(s=t.checked);let a=e.array||[];if(t.type===L&&(t.checked&&!a.includes(n)&&a.push(n),t.checked||(a=a.filter(f=>f!==n))),t.type===_&&t.checked&&(a=[n]),e.array=a,e.value=a.toString(),g(e.mods,S)){let f=e.exp||1;s=a.length>=f}}else if(e.required&&(s=!!n.trim()),s&&n){let a=e.mods.filter(f=>O.indexOf(f)!==-1)[0];for(let f of e.mods)if(typeof u[f]=="function"){s=f==="date"?H(n,a):u[f](n);break}e.exp===!1&&(s=!1)}}e.valid=s,i[c]=e,E.set(o,i)}return r&&T(t,e.valid),e}let u={};u.email=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x(t)),u.tel=t=>/^((\+|0)\d{1,4})?[-\s.]?[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?\d[-\s.]?(\d{1,2})$/.test(x(t)),u.website=t=>/^(https?:\/\/)?(www\.)?([-a-zA-Z0-9@:%._+~#=]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$/.test(x(t)),u.url=t=>/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()!@:%_+.~#?&/=]*)/.test(x(t)),u.number=t=>!isNaN(parseFloat(t))&&isFinite(t),u.integer=t=>u.number(t)&&Number.isInteger(Number(t)),u.wholenumber=t=>u.integer(t)&&Number(t)>0,u.date=t=>H(t),O.forEach(t=>{u.date[t]=e=>H(e,t)});let y={};y.data=t=>p(t),y.formData=t=>E.get(N(b(t))),y.value=(t,e)=>{t=b(t);let r=p(t);return r?Array.isArray(r)?r.reduce((o,c)=>(o[c.name]=c.value,o),{}):(e&&(r.value=e,t.value=e,v(t)),r.value):!1},y.updateData=(t,e,r)=>v(b(t),e,r),y.toggleError=(t,e)=>T(b(t),e),y.submit=t=>{let e=0;p(t.target).forEach(r=>{r.valid===!1&&(e++,e===1&&r.node.focus(),T(r.node,!1),t.preventDefault(),console.error(`${r.name} ${D}`))})},y.isComplete=t=>{let e=p(t);return Array.isArray(e)?!e.some(r=>!r.valid):e&&e.valid},Object.keys(u).forEach(t=>y={...y,[t]:u[t]}),A.magic(F,()=>y),A.magic("formData",t=>E.get(N(b(t)))),A.directive(D,(t,{value:e,expression:r},{evaluate:o})=>{r&&A.effect(()=>{var d;let c=o(r),i=e?((d=p(e))==null?void 0:d.value)===c:c;v(t,{required:i}),i||T(t,!0)})}),A.directive(F,(t,{modifiers:e,expression:r},{evaluate:o})=>{let c=N(t),i=n=>{let s=n.closest(".field-parent")||g(e,S)?n.parentNode.parentNode:n.parentNode,a=n.closest(G);return{mods:[...e,n.type],set:a,parentNode:s,exp:r&&o(r)}};function d(n){Q(n);let s=g([L,_,"range"],n.type),a=s?"click":l(n,"select")?"change":"blur";I(n,a,m),g(e,R)&&!s&&I(n,R,m)}if(l(t,q)){e.includes("use-browser")||t.setAttribute("novalidate",!0),j.set(c,e);let n=t.querySelectorAll(w);I(t,"reset",()=>{t.reset();let s=p(t);setTimeout(()=>{s.forEach(a=>v(a.node))},50)}),n.forEach(s=>{$(s)&&(v(s,i(s)),s.getAttributeNames().some(a=>a.includes(`x-${F}`))||d(s))})}if($(t)&&l(t,w)){let n=j.has(c)?j.get(c):[];e=[...e,...n],v(t,i(t)),d(t)}function m(n){let s=this,a=p(s).mods,f=v(s,{exp:r&&o(r)},!0);return!f.valid&&!g(a,"bluronly")&&n.type==="blur"&&I(s,R,m),!f.valid&&g(a,"refocus")&&s.focus(),f.valid}});function T(t,e){let r=p(t).parentNode,o=P(t);h(t,"aria-invalid",!e),e?(h(o,z),r.removeAttribute(k)):(o.removeAttribute(z),h(r,k,o.textContent))}function K(t){for(;t;){if(t=t.nextElementSibling,l(t,`.${M}`))return t;if(l(t,w))return!1}return!1}function P(t){let e=$(t);return N(t).querySelector(`#${M}-${e}`)}function Q(t){let e=$(t),r=`${M}-${e}`,o=p(t),c=g(o.mods,S)?o.parentNode:t,i=document.createElement("span");i.className=M;let m=P(t)||K(c)||i;h(m,"id",r),h(m,z),m.innerHTML||(m.textContent=Z(c,W)||`${e.replace(/[-_]/g," ")} ${D}`),h(t,"aria-errormessage",r),b(r)||c.after(m)}},U=X;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(U)});})();
