<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script defer src="/alpine.validate.js"></script>
		<script
			defer
			src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js"
		></script>
		<link
			href="https://unpkg.com/@csstools/normalize.css"
			rel="stylesheet"
		/>
		<link href="/styles.css" rel="stylesheet" />
		<link href="/nav.css" rel="stylesheet" />
	</head>
	<body>
		<!-- FORM 1 -->
		<form x-data x-validate @submit="$validate.submit" id="form1">
			<div>
				<label for="testing">Email</label>
				<input type="email" name="testing" required />
				<div class="error-msg text-sm mt-2 text-red-600">
					E-mailadres is required
				</div>
			</div>
			<button type="submit">send</button>
		</form>
		<form
			x-data
			x-validate
			@submit="$validate.submit"
			x-ref="form"
			id="form"
		>
			<fieldset>
				<label for="email-testing">Email</label>
				<input type="email" name="email-testing" required />
				<div class="error-msg text-sm mt-2 text-blue-600">
					E-mailadres is required
				</div>
			</fieldset>
			<fieldset disabled>
				<label for="phone">Phone</label>
				<input type="tel" name="phone" value="" required />
				<div
					class="error-msg"
					x-text="($validate.value('phone') === '') ? 'field required' : 'valid phone number required' "
				>
					field required
				</div>
			</fieldset>
			<button type="submit">send</button>
			<div
				class="form-validation-log"
				style="max-width: 30rem; margin: 0 auto"
			>
				<h3>Validations</h3>
				<p>
					<small
						>List of data from
						<code>$validate.data($refs.form)</code></small
					>
				</p>
				<table>
					<thead>
						<tr>
							<th>name</th>
							<th>required</th>
							<th>value</th>
							<th>valid</th>
						</tr>
					</thead>
					<tbody>
						<template x-for="v in $validate.data($refs.form)">
							<tr>
								<td>
									<span x-text="v.name"></span
									><span
										x-text="v.group ? ' (group)' : ''"
									></span>
								</td>
								<td x-text="v.required ? '&#x2713;' : ''"></td>
								<td x-text="v.value"></td>
								<td x-text="v.valid ? '&#x2713;' : ''"></td>
							</tr>
						</template>
					</tbody>
				</table>
				<p>
					$validate.isComplete:
					<b x-text="$validate.isComplete($refs.form)"></b>
				</p>
				<a
					href=""
					@click.prevent="console.log($validate.formData($refs.form))"
					>console.log($validate.formData($refs.form))</a
				>
				<a
					href=""
					@click.prevent="console.log($validate.value($refs.form))"
					>console.log($validate.value($refs.form))</a
				>
			</div>
		</form>
	</body>
</html>
